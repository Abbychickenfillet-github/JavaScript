<!doctype html>
<html lang="en">
    <head>
        <title>Form</title>
        <!-- Required meta tags -->
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />

        <!-- Bootstrap CSS v5.2.1 -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>

    <body>
        <div class="container">
            <div class="py-2">
                <button
                    type="button"
                    class="btn btn-primary"
                    id="setAccount"
                >
                    set acount
                </button>
                
            </div>
            <div class="mb-2">
                <label class="form-label" for="account">Account</label>
                <input id="account" type="text" class="form-control">
            </div>
            <div class="mb-2">
                <div class="py-2">
                    <button
                        type="button"
                        class="btn btn-primary"
                        id="getCity"
                    >
                        get city
                    </button>
                    <button
                        type="button"
                        class="btn btn-primary"
                        id="setCity"
                    >
                        set city
                    </button>
                </div>
                <label class="form-label" for="city">City</label>
                <select name="" id="city" class="form-select">
                    <option value="1">台北市</option>
                    <option value="2">新北市</option>
                    <option value="3">桃園市</option>
                    <option value="4">台中市</option>
                </select>
                <div class="py-2">
                    市花: <span id="flower"></span>  
                </div>
            </div>
            <hr>
            <div class="mb-2">
                <input type="text" class="form-control" id="input">
                <div id="output"></div>
            </div>
            <button class="btn btn-primary">送出</button>
        </div>
        <script>
            const account=document.querySelector("#account")
            const setAccount=document.querySelector("#setAccount")
            const getCity=document.querySelector("#getCity")
            const setCity=document.querySelector("#setCity")
            const city=document.querySelector("#city")
            const flower=document.querySelector("#flower")
            const input=document.querySelector("#input")
            const output=document.querySelector("#output")

            // JSON
            const cities=[
                {
                    id: 1,
                    name: "台北市",
                    flower: "杜鵑花"
                },
                {
                    id:2,
                    name: "新北市",
                    flower: "茶花"
                },
                {
                    id:3,
                    name: "桃園市",
                    flower: "桃花"
                },
                {
                    id: 4,
                    name: "台中市",
                    flower: "山櫻花"
                }
            ]

            account.addEventListener("input", function(){
                // console.log("change");
                let content=this.value;
                console.log(content);
            })
            setAccount.addEventListener("click", function(){
                account.value="james"
            })

            getCity.addEventListener("click", function(){
                // console.log("click");
                let cityId=city.value;
                console.log(cityId);
            })
            setCity.addEventListener("click", function(){
                city.value=3
            })
            city.addEventListener("change", function(){
                let cityId=this.value;
                // console.log(cityId);
                let cityData=cities.find(function(item){
                    return item.id==cityId;
                })
                console.log(cityData);
                flower.textContent=cityData.flower;
            })

            input.addEventListener("input", function(){
                let content=this.value;
                // console.log(content);
                output.textContent=content;
            })

        </script>
    </body>
</html>
